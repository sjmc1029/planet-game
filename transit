import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

# 사용자 입력을 위한 슬라이더
planet_radius = st.slider("행성 반지름 (지구 반지름의 배수)", 0.1, 2.0, 1.0)
orbital_period = st.slider("궤도 주기 (일)", 1, 100, 10)

# 그래프를 그릴 시간 범위 설정
time = np.linspace(0, orbital_period * 2, 1000)
brightness = np.ones_like(time)

# 행성의 트랜짓 효과를 시뮬레이션
transit_duration = orbital_period * 0.05  # 궤도 주기와 행성 크기에 따라 트랜짓 시간 결정
transit_start = orbital_period / 2 - transit_duration / 2
transit_end = transit_start + transit_duration

# 광도 감소 시뮬레이션 (행성 크기에 비례)
for i, t in enumerate(time):
    if transit_start <= t % orbital_period <= transit_end:
        brightness[i] = 1 - 0.01 * (planet_radius ** 2)

# 그래프 그리기
plt.figure(figsize=(10, 4))
plt.plot(time, brightness, label="광도 변화")
plt.xlabel("시간")
plt.ylabel("광도")
plt.title("행성 트랜짓에 의한 별의 광도 변화")
plt.ylim(0.9, 1.0)
st.pyplot(plt)
